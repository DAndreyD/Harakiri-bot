import vk_api
from vk_api.bot_longpoll import VkBotLongPoll, VkBotEventType
import random
from config import vk_token
from data import db_session

sessionStorage = {}


def main():
    db_session.global_init("db/blogs.sqlite")
    session = db_session.create_session()
    vk_session = vk_api.VkApi(
        token=vk_token)
    vk = vk_session.get_api()

    longpoll = VkBotLongPoll(vk_session, 195012202)

    for event in longpoll.listen():

        if event.type == VkBotEventType.MESSAGE_NEW:
            print(event)
            print('–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:')
            print('–î–ª—è –º–µ–Ω—è –æ—Ç:', event.obj.message['from_id'])
            print('–¢–µ–∫—Å—Ç:', event.obj.message['text'])
            handle_dialog(event, vk)


def handle_dialog(event, vk):
    rndm = random.randint(0, 2 ** 64)
    user_id = event.obj.message['from_id']
    message = event.obj.message['text']
    if user_id in sessionStorage:
        quests = sessionStorage[user_id]['last_question']
        if quests == 1:
            vk.messages.send(user_id=user_id,
                             message=f"–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {message}! \n"
                                     f"–¢–µ–ø–µ—Ä—å –Ω–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π nickname –Ω–∞ –º–∏–Ω–∏-–∏–≥—Ä–∞—Ö",
                             random_id=rndm)
            sessionStorage[user_id]['last_question'] = 2
            return

        if quests == 2:
            if message == '/—Å–±—Ä–æ—Å–∏—Ç—å':
                vk.messages.send(user_id=user_id,
                                 message=f"–í–∞—Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Harakiri-bot. –ß—Ç–æ–±—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∑–∞—è–≤–∫—É,"
                                         f"–æ—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞—Å—Ç –±–æ—Ç. –ü–æ–º–Ω–∏—Ç–µ, –ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ,"
                                         f" –∏–Ω–∞—á–µ –í–∞—à–∞ –∑–∞—è–≤–∫–∞ "
                                         f"–±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞. –ï—Å–ª–∏ –í—ã –Ω–∞—à–ª–∏ –æ—à–∏–±–∫—É, –ø–∏—à–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é —Å–æ–∑–¥–∞—Ç–µ–ª—é –∫–ª–∞–Ω–∞.\n"
                                         f"–ñ–µ–ª–∞–µ–º –≤–∞–º —É–¥–∞—á–∏ –Ω–∞ –æ—Ç–±–æ—Ä–µ!)\n"
                                         f"C —É–≤–∞–∂–µ–Ω–∏–µ–º, @xskywalker"
                                         f"\n\n"
                                         f"–µ—Å–ª–∏ –≤—ã —Å–ª—É—á–∞–π–Ω–æ –¥–æ–ø—É—Å—Ç–∏–ª–∏ –æ—à–∏–±–∫—É –≤ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏, –Ω–∞–ø–∏—à–∏—Ç–µ '/—Å–±—Ä–æ—Å–∏—Ç—å'"
                                         f"\n\n"
                                         f"–ò—Ç–∞–∫, –ø—Ä–∏—Å—Ç—É–ø–∏–º. \n"
                                         f"–ö–∞–∫ –∫ –≤–∞–º –º–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è? (–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–µ –∏–º—è)",
                                 random_id=rndm)
                sessionStorage[user_id] = {
                    'last_question': 1
                }
                return
            flag = True
            while flag:
                message_splited = list(message)
                print(message_splited)
                for element in message_splited:
                    if element in "1234567890_qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM":
                        flag = True
                    else:
                        flag = False
                        vk.messages.send(user_id=user_id,
                                         message="–ù–∏–∫–Ω–µ–π–º —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–ø—Ä–∏–µ–º–ª–µ–º—ã–µ —Å–∏–º–≤–æ–ª—ã. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–ø—ã—Ç–∫—É.",
                                         random_id=rndm)
                        sessionStorage[user_id]['last_question'] = 2
                        return
                vk.messages.send(user_id=user_id,
                                 message=f"–û—Ç–ª–∏—á–Ω–æ! –í–≤–µ–¥–∏—Ç–µ –í–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Çüòé\n"
                                         f"(–í–Ω–∏–º–∞–Ω–∏–µ! –ù–µ –ø—Ä–µ—É–≤–µ–ª–∏—á–∏–≤–∞–π—Ç–µ —Å–≤–æ–π –≤–æ–∑—Ä–∞—Å—Ç, —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å –∑–∞–¥–∞–Ω –¥–ª—è —Ç–æ–≥–æ, "
                                         f"—á—Ç–æ–±—ã –º—ã –∏–º–µ–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ –í–∞—Å. –≠—Ç–æ –Ω–µ –ø–æ–≤–ª–∏—è–µ—Ç –Ω–∞ —Ç–æ, "
                                         f"–æ–¥–æ–±—Ä–∏–º –ª–∏ –º—ã –í–∞—à—É –∑–∞—è–≤–∫—É –∏–ª–∏ –Ω–µ—Ç.)\n"
                                         f"!!! –ü–∏—à–∏—Ç–µ —Å–≤–æ–π –≤–æ–∑—Ä–∞—Å—Ç —Ü–∏—Ñ—Ä–∞–º–∏, –∏–Ω–∞—á–µ –±–æ—Ç –Ω–µ –ø–æ–π–º–µ—Ç –í–∞—Å !!!",
                                 random_id=rndm)
                sessionStorage[user_id]['last_question'] = 3
                return

        if quests == 3:
            if message == '/—Å–±—Ä–æ—Å–∏—Ç—å':
                vk.messages.send(user_id=user_id,
                                 message=f"–í–∞—Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Harakiri-bot. –ß—Ç–æ–±—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∑–∞—è–≤–∫—É,"
                                         f"–æ—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞—Å—Ç –±–æ—Ç. –ü–æ–º–Ω–∏—Ç–µ, –ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ,"
                                         f" –∏–Ω–∞—á–µ –í–∞—à–∞ –∑–∞—è–≤–∫–∞ "
                                         f"–±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞. –ï—Å–ª–∏ –í—ã –Ω–∞—à–ª–∏ –æ—à–∏–±–∫—É, –ø–∏—à–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é —Å–æ–∑–¥–∞—Ç–µ–ª—é –∫–ª–∞–Ω–∞.\n"
                                         f"–ñ–µ–ª–∞–µ–º –≤–∞–º —É–¥–∞—á–∏ –Ω–∞ –æ—Ç–±–æ—Ä–µ!)\n"
                                         f"C —É–≤–∞–∂–µ–Ω–∏–µ–º, @xskywalker"
                                         f"\n\n"
                                         f"–µ—Å–ª–∏ –≤—ã —Å–ª—É—á–∞–π–Ω–æ –¥–æ–ø—É—Å—Ç–∏–ª–∏ –æ—à–∏–±–∫—É –≤ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏, –Ω–∞–ø–∏—à–∏—Ç–µ '/—Å–±—Ä–æ—Å–∏—Ç—å'"
                                         f"\n\n"
                                         f"–ò—Ç–∞–∫, –ø—Ä–∏—Å—Ç—É–ø–∏–º. \n"
                                         f"–ö–∞–∫ –∫ –≤–∞–º –º–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è? (–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–µ –∏–º—è)",
                                 random_id=rndm)
                sessionStorage[user_id] = {
                    'last_question': 1
                }
                return

            if message.isdigit() and 6 < int(message) < 30:
                vk.messages.send(user_id=user_id,
                                 message=f"–•–æ—Ä–æ—à–æ! –¢–µ–ø–µ—Ä—å —É–∫–∞–∂–∏—Ç–µ –í–∞—à –¥–æ–Ω–∞—Ç –Ω–∞ –º–∏–Ω–∏-–∏–≥—Ä–∞—Ö.ü§ë\n"
                                         f"–ü–∏—à–∏—Ç–µ –¥–æ–Ω–∞—Ç –∞–Ω–≥–ª–∏–π—Å–∫–∏–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏! –ï—Å–ª–∏ –¥–æ–Ω–∞—Ç–∞ –Ω–µ—Ç, "
                                         f"–Ω–∞–ø–∏—à–∏—Ç–µ 'player'",
                                 random_id=rndm)
                sessionStorage[user_id]['last_question'] = 4
                return
            else:
                vk.messages.send(user_id=user_id,
                                 message=f"–ù–µ –ø—ã—Ç–∞–π—Ç–µ—Å—å –º–µ–Ω—è –æ–±–º–∞–Ω—É—Ç—åüò° \n"
                                         f"–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π —Ä–µ–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç.",
                                 random_id=rndm)
                sessionStorage[user_id]['last_question'] = 3
                return

        if quests == 4:
            if message == '/—Å–±—Ä–æ—Å–∏—Ç—å':
                vk.messages.send(user_id=user_id,
                                 message=f"–í–∞—Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Harakiri-bot. –ß—Ç–æ–±—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∑–∞—è–≤–∫—É,"
                                         f"–æ—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞—Å—Ç –±–æ—Ç. –ü–æ–º–Ω–∏—Ç–µ, –ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ,"
                                         f" –∏–Ω–∞—á–µ –í–∞—à–∞ –∑–∞—è–≤–∫–∞ "
                                         f"–±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞. –ï—Å–ª–∏ –í—ã –Ω–∞—à–ª–∏ –æ—à–∏–±–∫—É, –ø–∏—à–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é —Å–æ–∑–¥–∞—Ç–µ–ª—é –∫–ª–∞–Ω–∞.\n"
                                         f"–ñ–µ–ª–∞–µ–º –≤–∞–º —É–¥–∞—á–∏ –Ω–∞ –æ—Ç–±–æ—Ä–µ!)\n"
                                         f"C —É–≤–∞–∂–µ–Ω–∏–µ–º, @xskywalker"
                                         f"\n\n"
                                         f"–µ—Å–ª–∏ –≤—ã —Å–ª—É—á–∞–π–Ω–æ –¥–æ–ø—É—Å—Ç–∏–ª–∏ –æ—à–∏–±–∫—É –≤ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏, –Ω–∞–ø–∏—à–∏—Ç–µ '/—Å–±—Ä–æ—Å–∏—Ç—å'"
                                         f"\n\n"
                                         f"–ò—Ç–∞–∫, –ø—Ä–∏—Å—Ç—É–ø–∏–º. \n"
                                         f"–ö–∞–∫ –∫ –≤–∞–º –º–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è? (–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–µ –∏–º—è)",
                                 random_id=rndm)
                sessionStorage[user_id] = {
                    'last_question': 1
                }
                return
            message_splited = list(message)
            for element in message_splited:
                if element in "qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM":
                    vk.messages.send(user_id=user_id,
                                     message=f"–û—Ç–ª–∏—á–Ω–æ! –¢–µ–ø–µ—Ä—å –Ω–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –¥–∏—Å–∫–æ—Ä–¥.üò¥ –ï—Å–ª–∏ —É –í–∞—Å –µ–≥–æ –Ω–µ—Ç, —Ç–æ —Å–æ–≤–µ—Ç—É–µ–º "
                                             f"–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –∞ –ø–æ–∫–∞ —á—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É '–Ω–µ—Ç' \n"
                                             f"–ü—Ä–∏–º–µ—Ä –Ω–∏–∫–Ω–µ–π–º–∞ –≤ –¥–∏—Å–∫–æ—Ä–¥–µ: Snowylqrd#1100",
                                     random_id=rndm)
                    sessionStorage[user_id]['last_question'] = 5
                    return
                else:
                    vk.messages.send(user_id=user_id,
                                     message=f"–í—ã –¥–æ–ª–∂–Ω—ã –≤–≤–µ—Å—Ç–∏ –¥–æ–Ω–∞—Ç –∞–Ω–≥–ª–∏–π—Å–∫–∏–º–∏ –±—É–∫–≤–∞–º–∏!ü§¨",
                                     random_id=rndm)
                    sessionStorage[user_id]['last_question'] = 4
                    return

        if quests == 5:
            if message == '/—Å–±—Ä–æ—Å–∏—Ç—å':
                vk.messages.send(user_id=user_id,
                                 message=f"–í–∞—Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Harakiri-bot. –ß—Ç–æ–±—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∑–∞—è–≤–∫—É,"
                                         f"–æ—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞—Å—Ç –±–æ—Ç. –ü–æ–º–Ω–∏—Ç–µ, –ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ,"
                                         f" –∏–Ω–∞—á–µ –í–∞—à–∞ –∑–∞—è–≤–∫–∞ "
                                         f"–±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞. –ï—Å–ª–∏ –í—ã –Ω–∞—à–ª–∏ –æ—à–∏–±–∫—É, –ø–∏—à–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é —Å–æ–∑–¥–∞—Ç–µ–ª—é –∫–ª–∞–Ω–∞.\n"
                                         f"–ñ–µ–ª–∞–µ–º –≤–∞–º —É–¥–∞—á–∏ –Ω–∞ –æ—Ç–±–æ—Ä–µ!)\n"
                                         f"C —É–≤–∞–∂–µ–Ω–∏–µ–º, @xskywalker"
                                         f"\n\n"
                                         f"–µ—Å–ª–∏ –≤—ã —Å–ª—É—á–∞–π–Ω–æ –¥–æ–ø—É—Å—Ç–∏–ª–∏ –æ—à–∏–±–∫—É –≤ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏, –Ω–∞–ø–∏—à–∏—Ç–µ '/—Å–±—Ä–æ—Å–∏—Ç—å'"
                                         f"\n\n"
                                         f"–ò—Ç–∞–∫, –ø—Ä–∏—Å—Ç—É–ø–∏–º. \n"
                                         f"–ö–∞–∫ –∫ –≤–∞–º –º–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è? (–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–µ –∏–º—è)",
                                 random_id=rndm)
                sessionStorage[user_id] = {
                    'last_question': 1
                }
                return
            message_listed = list(message)
            if message.lower() == '–Ω–µ—Ç':
                vk.messages.send(user_id=user_id,
                                 message=f"–•–æ—Ä–æ—à–æ. –û—Ü–µ–Ω–∏—Ç–µ, —Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å –≤—ã –º–æ–∂–µ—Ç–µ"
                                         f"—É–¥–µ–ª—è—Ç—å –Ω–∞—à–µ–º—É –∫–ª–∞–Ω—Éü•∫ (–ò–º–µ–µ—Ç—Å—è –≤ –≤–∏–¥—É –Ω–µ —Ç–æ–ª—å–∫–æ –≤—Ä–µ–º—è,"
                                         f"–ø–æ—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –Ω–∞ –º–∏–Ω–∏-–∏–≥—Ä–∞—Ö, –Ω–æ –∏ –∞–∫—Ç–∏–≤–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ"
                                         f"–≤ –±–µ—Å–µ–¥–µ/–≥—Ä—É–ø–ø–µ/–¥–∏—Å–∫–æ—Ä–¥–µ –∫–ª–∞–Ω–∞.)"
                                         f"!!! –ü–∏—à–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤ —Ü–∏—Ñ—Ä–∞–º–∏, –∏–Ω–∞—á–µ –±–æ—Ç –Ω–µ –ø–æ–π–º–µ—Ç –í–∞—Å !!!",
                                 random_id=rndm)
                sessionStorage[user_id]['last_question'] = 6
                return
            elif '#' in message and message_listed[-1].isdigit() and message_listed[-2].isdigit() and \
                    message_listed[-3].isdigit() and message_listed[-4].isdigit():
                vk.messages.send(user_id=user_id,
                                 message=f"Amazing! –û—Ü–µ–Ω–∏—Ç–µ, —Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å –≤—ã –º–æ–∂–µ—Ç–µ "
                                         f"—É–¥–µ–ª—è—Ç—å –Ω–∞—à–µ–º—É –∫–ª–∞–Ω—Éü•∫ (–ò–º–µ–µ—Ç—Å—è –≤ –≤–∏–¥—É –Ω–µ —Ç–æ–ª—å–∫–æ –≤—Ä–µ–º—è, "
                                         f"–ø–æ—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –Ω–∞ –º–∏–Ω–∏-–∏–≥—Ä–∞—Ö, –Ω–æ –∏ –∞–∫—Ç–∏–≤–Ω–æ–µ —É—á–∞—Å—Ç–∏–µ"
                                         f"–≤ –±–µ—Å–µ–¥–µ/–≥—Ä—É–ø–ø–µ/–¥–∏—Å–∫–æ—Ä–¥–µ –∫–ª–∞–Ω–∞.)\n"
                                         f"!!! –ü–∏—à–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å–æ–≤ —Ü–∏—Ñ—Ä–∞–º–∏, –∏–Ω–∞—á–µ –±–æ—Ç –Ω–µ –ø–æ–π–º–µ—Ç –í–∞—Å !!!",
                                 random_id=rndm)
                sessionStorage[user_id]['last_question'] = 6
                return
            elif message == 'Snowylqrd#1100':
                vk.messages.send(user_id=user_id,
                                 message=f"–ù–µ –æ–±–º–∞–Ω—ã–≤–∞–π—Ç–µ –º–µ–Ω—èüëø\n"
                                         f"–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π —Ä–µ–∞–ª—å–Ω—ã–π –Ω–∏–∫–Ω–µ–π–º –≤ –¥–∏—Å–∫–æ—Ä–¥–µ",
                                 random_id=rndm)
                sessionStorage[user_id]['last_question'] = 5
                return
            else:
                vk.messages.send(user_id=user_id,
                                 message=f"–ù–µ –æ–±–º–∞–Ω—ã–≤–∞–π—Ç–µ –º–µ–Ω—èüëø\n"
                                         f"–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π —Ä–µ–∞–ª—å–Ω—ã–π –Ω–∏–∫–Ω–µ–π–º –≤ –¥–∏—Å–∫–æ—Ä–¥–µ",
                                 random_id=rndm)
                sessionStorage[user_id]['last_question'] = 5
                return

        if quests == 6:
            if message == '/—Å–±—Ä–æ—Å–∏—Ç—å':
                vk.messages.send(user_id=user_id,
                                 message=f"–í–∞—Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Harakiri-bot. –ß—Ç–æ–±—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∑–∞—è–≤–∫—É,"
                                         f"–æ—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞—Å—Ç –±–æ—Ç. –ü–æ–º–Ω–∏—Ç–µ, –ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ,"
                                         f" –∏–Ω–∞—á–µ –í–∞—à–∞ –∑–∞—è–≤–∫–∞ "
                                         f"–±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞. –ï—Å–ª–∏ –í—ã –Ω–∞—à–ª–∏ –æ—à–∏–±–∫—É, –ø–∏—à–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é —Å–æ–∑–¥–∞—Ç–µ–ª—é –∫–ª–∞–Ω–∞.\n"
                                         f"–ñ–µ–ª–∞–µ–º –≤–∞–º —É–¥–∞—á–∏ –Ω–∞ –æ—Ç–±–æ—Ä–µ!)\n"
                                         f"C —É–≤–∞–∂–µ–Ω–∏–µ–º, @xskywalker"
                                         f"\n\n"
                                         f"–µ—Å–ª–∏ –≤—ã —Å–ª—É—á–∞–π–Ω–æ –¥–æ–ø—É—Å—Ç–∏–ª–∏ –æ—à–∏–±–∫—É –≤ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏, –Ω–∞–ø–∏—à–∏—Ç–µ '/—Å–±—Ä–æ—Å–∏—Ç—å'"
                                         f"\n\n"
                                         f"–ò—Ç–∞–∫, –ø—Ä–∏—Å—Ç—É–ø–∏–º. \n"
                                         f"–ö–∞–∫ –∫ –≤–∞–º –º–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è? (–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–µ –∏–º—è)",
                                 random_id=rndm)
                sessionStorage[user_id] = {
                    'last_question': 1
                }
                return

            if message.isdigit() and int(message) > 24:
                vk.messages.send(user_id=user_id,
                                 message=f"–í–∑–¥—É–º–∞–ª–∏ –æ–±–º–∞–Ω—É—Ç—å –º–µ–Ω—è?üòí\n"
                                         f"–í —Å—É—Ç–∫–∞—Ö –≤—Å–µ–≥–æ-–ª–∏—à—å 24 —á–∞—Å–∞!\n"
                                         f"–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–æ–ø—ã—Ç–∫—É.",
                                 random_id=rndm)
                sessionStorage[user_id]['last_question'] = 6
                return
            else:
                vk.messages.send(user_id=user_id,
                                 message=f"Well! –û—Å—Ç–∞–ª–æ—Å—å –µ—â–µ —á—É—Ç—å-—á—É—Ç—åüòâ\n\n"
                                         f"–í –∫–∞–∫–∏—Ö –∫–ª–∞–Ω–∞—Ö –í—ã —Ä–∞–Ω—å—à–µ –±—ã–ª–∏?",
                                 random_id=rndm)
                sessionStorage[user_id]['last_question'] = 7
                return

        if quests == 7:
            if message == '/—Å–±—Ä–æ—Å–∏—Ç—å':
                vk.messages.send(user_id=user_id,
                                 message=f"–í–∞—Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Harakiri-bot. –ß—Ç–æ–±—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∑–∞—è–≤–∫—É,"
                                         f"–æ—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞—Å—Ç –±–æ—Ç. –ü–æ–º–Ω–∏—Ç–µ, –ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ,"
                                         f" –∏–Ω–∞—á–µ –í–∞—à–∞ –∑–∞—è–≤–∫–∞ "
                                         f"–±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞. –ï—Å–ª–∏ –í—ã –Ω–∞—à–ª–∏ –æ—à–∏–±–∫—É, –ø–∏—à–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é —Å–æ–∑–¥–∞—Ç–µ–ª—é –∫–ª–∞–Ω–∞.\n"
                                         f"–ñ–µ–ª–∞–µ–º –≤–∞–º —É–¥–∞—á–∏ –Ω–∞ –æ—Ç–±–æ—Ä–µ!)\n"
                                         f"C —É–≤–∞–∂–µ–Ω–∏–µ–º, @xskywalker"
                                         f"\n\n"
                                         f"–µ—Å–ª–∏ –≤—ã —Å–ª—É—á–∞–π–Ω–æ –¥–æ–ø—É—Å—Ç–∏–ª–∏ –æ—à–∏–±–∫—É –≤ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏, –Ω–∞–ø–∏—à–∏—Ç–µ '/—Å–±—Ä–æ—Å–∏—Ç—å'"
                                         f"\n\n"
                                         f"–ò—Ç–∞–∫, –ø—Ä–∏—Å—Ç—É–ø–∏–º. \n"
                                         f"–ö–∞–∫ –∫ –≤–∞–º –º–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è? (–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–µ –∏–º—è)",
                                 random_id=rndm)
                sessionStorage[user_id] = {
                    'last_question': 1
                }
                return

            vk.messages.send(user_id=user_id,
                             message=f"Wonderful!üòè –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç –í–∞—à–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –Ω–∞ —Ä–µ–∂–∏–º–µ "
                                     f"'BedWars'",
                             random_id=rndm)
            sessionStorage[user_id]['last_question'] = 8
            return

        if quests == 8:
            vk.messages.send(user_id=user_id,
                             message=f"–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!ü•≥\n –í–∞—à–∞ –∑–∞—è–≤–∫–∞ –±—ã–ª–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ "
                                     f"–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∫–ª–∞–Ω–∞.\n"
                                     f"‚ö† –ü—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç ~ 1 –¥–µ–Ω—å",
                             random_id=rndm)

            vk.messages.send(user_id=570864703,
                             message=f"–£ –≤–∞—Å –Ω–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –æ—Ç @id{user_id}",
                             random_id=rndm)

    else:
        vk.messages.send(user_id=user_id,
                         message=f"–í–∞—Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Harakiri-bot. –ß—Ç–æ–±—ã –∑–∞–ø–æ–ª–Ω–∏—Ç—å –∑–∞—è–≤–∫—É,"
                                 f"–æ—Ç–≤–µ—á–∞–π—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–¥–∞—Å—Ç –±–æ—Ç. –ü–æ–º–Ω–∏—Ç–µ, –ø–∏—à–∏—Ç–µ —Ç–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ,"
                                 f" –∏–Ω–∞—á–µ –í–∞—à–∞ –∑–∞—è–≤–∫–∞ "
                                 f"–±—É–¥–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞. –ï—Å–ª–∏ –í—ã –Ω–∞—à–ª–∏ –æ—à–∏–±–∫—É, –ø–∏—à–∏—Ç–µ –Ω–∞–ø—Ä—è–º—É—é —Å–æ–∑–¥–∞—Ç–µ–ª—é –∫–ª–∞–Ω–∞.\n"
                                 f"–ñ–µ–ª–∞–µ–º –≤–∞–º —É–¥–∞—á–∏ –Ω–∞ –æ—Ç–±–æ—Ä–µ!)\n"
                                 f"C —É–≤–∞–∂–µ–Ω–∏–µ–º, @xskywalker"
                                 f"\n\n"
                                 f"–µ—Å–ª–∏ –≤—ã —Å–ª—É—á–∞–π–Ω–æ –¥–æ–ø—É—Å—Ç–∏–ª–∏ –æ—à–∏–±–∫—É –≤ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏, –Ω–∞–ø–∏—à–∏—Ç–µ '/—Å–±—Ä–æ—Å–∏—Ç—å'"
                                 f"\n\n"
                                 f"–ò—Ç–∞–∫, –ø—Ä–∏—Å—Ç—É–ø–∏–º. \n"
                                 f"–ö–∞–∫ –∫ –≤–∞–º –º–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è? (–ù–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–µ –∏–º—è)",
                         random_id=rndm)
        sessionStorage[user_id] = {
            'last_question': 1
        }
        return


if __name__ == '__main__':
    main()
